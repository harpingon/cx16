
; ******** Source: gol1.asm
     1                          zr = $20          ;get zome zero page vars to work with
     2                          
     3                          z_hl = zr         ;hl Pair
     4                          z_l  = zr
     5                          z_h  = zr+1
     6                          
     7                          z_de = zr+4       ;de pair
     8                          z_e  = zr+4
     9                          z_d  = zr+5
    10                          
    11                          z_as = zr+6       ;hold a
    12                          
    13                          CursorX = zr+7
    14                          CursorY = zr+8
    15                          Character = zr+9
    16                          Colour = zr+10
    17                          
    18                          ach = zr+12
    19                          
    20                          aa = zr+14 		;to store regs that would be sent to vera to build action list
    21                          ax = zr+15
    22                          ay = zr+16
    23                          nn = zr+17		;neighbor count
    24                          
    25                          bx = zr+20		; hold current cursor for checking square
    26                          by = zr+21
    27                          

; ******** Source: vera.inc
     1                          ; License: Public Domain
     2                          
     3                          verareg =$9f20
     4                          veralo  = verareg+0
     5                          veramid = verareg+1
     6                          verahi  = verareg+2
     7                          veradat = verareg+3
     8                          veradat2= verareg+4
     9                          veractl = verareg+5
    10                          veraien = verareg+6
    11                          veraisr = verareg+7
    12                          
    13                          vreg_cmp  = $F0000
    14                          vreg_pal  = $F1000
    15                          vreg_lay1 = $F2000
    16                          vreg_lay2 = $F3000
    17                          vreg_spr  = $F4000
    18                          vreg_sprd = $F5000
    19                          
    20                          AUTO_INC_1 = $100000
    21                          
    22                          !macro vset .addr {
    23                          	lda #<(.addr >> 16) | $10
    24                          	sta verahi
    25                          	lda #<(.addr >> 8)
    26                          	sta veramid
    27                          	lda #<(.addr)
    28                          	sta veralo
    29                          }
    30                          
    31                          !macro vstore .addr {
    32                          	pha
    33                          	+vset .addr
    34                          	pla
    35                          	sta veradat
    36                          }
    37                          
    38                          !macro vload .addr {
    39                          	+vset .addr
    40                          	lda veradat
    41                          }
    42                          
    43                          !macro sprset .offset {
    44                          	lda #<(vreg_sprd >> 16) | $10
    45                          	sta verahi
    46                          	txa
    47                          	lsr
    48                          	lsr
    49                          	lsr
    50                          	lsr
    51                          	lsr
    52                          	clc
    53                          	adc #<(vreg_sprd + .offset >> 8)
    54                          	sta veramid
    55                          	txa
    56                          	asl
    57                          	asl
    58                          	asl
    59                          	clc
    60                          	adc #<((vreg_sprd + .offset))
    61                          	sta veralo
    62                          }
    63                          
    64                          !macro sprload .offset {
    65                          	+sprset .offset
    66                          	lda veradat
    67                          }
    68                          
    69                          !macro sprstore .offset {
    70                          	pha
    71                          	+sprset .offset
    72                          	pla
    73                          	sta veradat
    74                          }
    75                          
    76                          !macro video_init {
    77                          	lda #0
    78                          	sta veractl ; set ADDR1 active
    79                          	sta veramid
    80                          	lda #$1F    ; $F0000 increment 1
    81                          	sta verahi
    82                          	lda #$00
    83                          	sta veralo
    84                          	lda #1
    85                          	sta veradat ; VGA output
    86                          }

; ******** Source: gol1.asm
    29                          *=$0801			; Assembled code should start at $0801
    30                          			; (where BASIC programs start)
    31                          			; The real program starts at $0810 = 2064
    32  0801 0c08               !byte $0C,$08		; $080C - pointer to next line of BASIC code
    33  0803 0a00               !byte $0A,$00		; 2-byte line number ($000A = 10)
    34  0805 9e                 !byte $9E		; SYS BASIC token
    35  0806 20                 !byte $20		; [space]
    36  0807 32303634           !byte $32,$30,$36,$34	; $32="2",$30="0",$36="6",$34="4"
    37                          			; (ASCII encoded nums for dec starting addr)
    38  080b 00                 !byte $00		; End of Line
    39  080c 0000               !byte $00,$00		; This is address $080C containing
    40                          			; 2-byte pointer to next line of BASIC code
    41                          			; ($0000 = end of program)
    42                          *=$0810			; Here starts the real program
    43  0810 a9008d259f8d219f...+video_init
    44  0827 a9108d229fa9008d...+vset $00000 | AUTO_INC_1 ; VRAM bank 0
    45                          
    46                          CHROUT=$FFD2		; CHROUT outputs a character (C64 Kernal API)
    47                          CHRIN=$FFCF		; CHRIN read from default input
    48                          CURRENT=$0
    49                          
    50                          start:
    51  0836 a920               	lda #32 	; space
    52  0838 8529               	sta Character
    53  083a a903               	lda #3		; light blue
    54  083c 852a               	sta Colour
    55  083e 20540b             	jsr fullscreen
    56                          
    57  0841 a92a               	lda #$2A	; star
    58  0843 8529               	sta Character
    59                          
    60  0845 204f08             	jsr readlist	; initial board state
    61                          
    62  0848 20cfff             	jsr CHRIN
    63  084b 20cfff             	jsr CHRIN
    64                          
    65  084e 60                 	rts
    66                          
    67                          
    68                          

; ******** Source: readlist.inc
     1                          readlist:
     2  084f a9e1               	lda #<.actions		; address the action list
     3  0851 852c               	sta ach
     4  0853 a20b               	ldx #>.actions
     5  0855 862d               	stx ach+1
     6  0857 a000               	ldy #0
     7                          readloop:
     8  0859 b12c               	lda (ach),y
     9  085b c9ff               	cmp #255 		; is this the last action
    10  085d d001               	bne outputaction        ; no - update vera
    11  085f 60                 	rts
    12                          
    13                          outputaction:
    14  0860 c8                 	iny			; is there a better way than iny/beq four times 
    15  0861 f020               	beq pageinc1		; to check for the end of the actions list?
    16                          ret1:
    17  0863 b12c               	lda (ach),y
    18  0865 8d229f             	sta verahi
    19  0868 c8                 	iny
    20  0869 f020               	beq pageinc2
    21                          ret2:
    22  086b b12c               	lda (ach),y
    23  086d 8d219f             	sta veramid
    24  0870 c8                 	iny
    25  0871 f020               	beq pageinc3
    26                          ret3:
    27  0873 b12c               	lda (ach),y
    28  0875 8d209f             	sta veralo
    29  0878 a529               	lda Character
    30  087a 8d239f             	sta veradat
    31  087d c8                 	iny
    32  087e f01b               	beq pageinc4
    33                          ret4:
    34  0880 4c5908             	jmp readloop
    35                          
    36                          pageinc1:
    37  0883 a52c               	lda ach
    38  0885 1a                 	inc 
    39  0886 852c               	sta ach
    40  0888 4c6308             	jmp ret1
    41                          pageinc2:
    42  088b a52c               	lda ach
    43  088d 1a                 	inc 
    44  088e 852c               	sta ach
    45  0890 4c6b08             	jmp ret2
    46                          pageinc3:
    47  0893 a52c               	lda ach
    48  0895 1a                 	inc 
    49  0896 852c               	sta ach
    50  0898 4c7308             	jmp ret3
    51                          pageinc4:
    52  089b a52c               	lda ach
    53  089d 1a                 	inc 
    54  089e 852c               	sta ach
    55  08a0 4c8008             	jmp ret4

; ******** Source: gol1.asm
    70                          

; ******** Source: makelist.inc
     1                          
     2                          makelist:
     3  08a3 48                 	pha
     4  08a4 5a                 	phy
     5  08a5 da                 	phx
     6  08a6 a94f               	lda #79
     7  08a8 8527               	sta CursorX
     8  08aa a93b               	lda #59
     9  08ac 8528               	sta CursorY
    10  08ae c627               	dec CursorX
    11  08b0 fa                 	plx
    12  08b1 7a                 	ply
    13  08b2 68                 	pla
    14  08b3 48                 	pha
    15  08b4 5a                 	phy
    16  08b5 da                 	phx
    17  08b6 a94f               	lda #79
    18  08b8 8527               	sta CursorX
    19  08ba a93b               	lda #59
    20  08bc 8528               	sta CursorY
    21  08be c627               	dec CursorX
    22  08c0 fa                 	plx
    23  08c1 7a                 	ply
    24  08c2 68                 	pla
    25  08c3 48                 	pha
    26  08c4 5a                 	phy
    27  08c5 da                 	phx
    28  08c6 a94f               	lda #79
    29  08c8 8527               	sta CursorX
    30  08ca a93b               	lda #59
    31  08cc 8528               	sta CursorY
    32  08ce c627               	dec CursorX
    33  08d0 fa                 	plx
    34  08d1 7a                 	ply
    35  08d2 68                 	pla
    36  08d3 48                 	pha
    37  08d4 5a                 	phy
    38  08d5 da                 	phx
    39  08d6 a94f               	lda #79
    40  08d8 8527               	sta CursorX
    41  08da a93b               	lda #59
    42  08dc 8528               	sta CursorY
    43  08de c627               	dec CursorX
    44  08e0 fa                 	plx
    45  08e1 7a                 	ply
    46  08e2 68                 	pla
    47  08e3 48                 	pha
    48  08e4 5a                 	phy
    49  08e5 da                 	phx
    50  08e6 a94f               	lda #79
    51  08e8 8527               	sta CursorX
    52  08ea a93b               	lda #59
    53  08ec 8528               	sta CursorY
    54  08ee c627               	dec CursorX
    55  08f0 fa                 	plx
    56  08f1 7a                 	ply
    57  08f2 68                 	pla
    58  08f3 48                 	pha
    59  08f4 5a                 	phy
    60  08f5 da                 	phx
    61  08f6 a94f               	lda #79
    62  08f8 8527               	sta CursorX
    63  08fa a93b               	lda #59
    64  08fc 8528               	sta CursorY
    65  08fe c627               	dec CursorX
    66  0900 fa                 	plx
    67  0901 7a                 	ply
    68  0902 68                 	pla
    69  0903 48                 	pha
    70  0904 5a                 	phy
    71  0905 da                 	phx
    72  0906 a94f               	lda #79
    73  0908 8527               	sta CursorX
    74  090a a93b               	lda #59
    75  090c 8528               	sta CursorY
    76  090e c627               	dec CursorX
    77  0910 fa                 	plx
    78  0911 7a                 	ply
    79  0912 68                 	pla
    80  0913 48                 	pha
    81  0914 5a                 	phy
    82  0915 da                 	phx
    83  0916 a94f               	lda #79
    84  0918 8527               	sta CursorX
    85  091a a93b               	lda #59
    86  091c 8528               	sta CursorY
    87  091e c627               	dec CursorX
    88  0920 fa                 	plx
    89  0921 7a                 	ply
    90  0922 68                 	pla
    91  0923 48                 	pha
    92  0924 5a                 	phy
    93  0925 da                 	phx
    94  0926 a94f               	lda #79
    95  0928 8527               	sta CursorX
    96  092a a93b               	lda #59
    97  092c 8528               	sta CursorY
    98  092e c627               	dec CursorX
    99  0930 fa                 	plx
   100  0931 7a                 	ply
   101  0932 68                 	pla
   102  0933 48                 	pha
   103  0934 5a                 	phy
   104  0935 da                 	phx
   105  0936 a94f               	lda #79
   106  0938 8527               	sta CursorX
   107  093a a93b               	lda #59
   108  093c 8528               	sta CursorY
   109  093e c627               	dec CursorX
   110  0940 fa                 	plx
   111  0941 7a                 	ply
   112  0942 68                 	pla
   113  0943 48                 	pha
   114  0944 5a                 	phy
   115  0945 da                 	phx
   116  0946 a94f               	lda #79
   117  0948 8527               	sta CursorX
   118  094a a93b               	lda #59
   119  094c 8528               	sta CursorY
   120  094e c627               	dec CursorX
   121  0950 fa                 	plx
   122  0951 7a                 	ply
   123  0952 68                 	pla
   124  0953 48                 	pha
   125  0954 5a                 	phy
   126  0955 da                 	phx
   127  0956 a94f               	lda #79
   128  0958 8527               	sta CursorX
   129  095a a93b               	lda #59
   130  095c 8528               	sta CursorY
   131  095e c627               	dec CursorX
   132  0960 fa                 	plx
   133  0961 7a                 	ply
   134  0962 68                 	pla
   135  0963 48                 	pha
   136  0964 5a                 	phy
   137  0965 da                 	phx
   138  0966 a94f               	lda #79
   139  0968 8527               	sta CursorX
   140  096a a93b               	lda #59
   141  096c 8528               	sta CursorY
   142  096e c627               	dec CursorX
   143  0970 fa                 	plx
   144  0971 7a                 	ply
   145  0972 68                 	pla
   146  0973 48                 	pha
   147  0974 5a                 	phy
   148  0975 da                 	phx
   149  0976 a94f               	lda #79
   150  0978 8527               	sta CursorX
   151  097a a93b               	lda #59
   152  097c 8528               	sta CursorY
   153  097e c627               	dec CursorX
   154  0980 fa                 	plx
   155  0981 7a                 	ply
   156  0982 68                 	pla
   157  0983 48                 	pha
   158  0984 5a                 	phy
   159  0985 da                 	phx
   160  0986 a94f               	lda #79
   161  0988 8527               	sta CursorX
   162  098a a93b               	lda #59
   163  098c 8528               	sta CursorY
   164  098e c627               	dec CursorX
   165  0990 fa                 	plx
   166  0991 7a                 	ply
   167  0992 68                 	pla
   168  0993 48                 	pha
   169  0994 5a                 	phy
   170  0995 da                 	phx
   171  0996 a94f               	lda #79
   172  0998 8527               	sta CursorX
   173  099a a93b               	lda #59
   174  099c 8528               	sta CursorY
   175  099e c627               	dec CursorX
   176  09a0 fa                 	plx
   177  09a1 7a                 	ply
   178  09a2 68                 	pla
   179  09a3 48                 	pha
   180  09a4 5a                 	phy
   181  09a5 da                 	phx
   182  09a6 a94f               	lda #79
   183  09a8 8527               	sta CursorX
   184  09aa a93b               	lda #59
   185  09ac 8528               	sta CursorY
   186  09ae c627               	dec CursorX
   187  09b0 fa                 	plx
   188  09b1 7a                 	ply
   189  09b2 68                 	pla
   190  09b3 48                 	pha
   191  09b4 5a                 	phy
   192  09b5 da                 	phx
   193  09b6 a94f               	lda #79
   194  09b8 8527               	sta CursorX
   195  09ba a93b               	lda #59
   196  09bc 8528               	sta CursorY
   197  09be c627               	dec CursorX
   198  09c0 fa                 	plx
   199  09c1 7a                 	ply
   200  09c2 68                 	pla
   201  09c3 48                 	pha
   202  09c4 5a                 	phy
   203  09c5 da                 	phx
   204  09c6 a94f               	lda #79
   205  09c8 8527               	sta CursorX
   206  09ca a93b               	lda #59
   207  09cc 8528               	sta CursorY
   208  09ce c627               	dec CursorX
   209  09d0 fa                 	plx
   210  09d1 7a                 	ply
   211  09d2 68                 	pla
   212  09d3 48                 	pha
   213  09d4 5a                 	phy
   214  09d5 da                 	phx
   215  09d6 a94f               	lda #79
   216  09d8 8527               	sta CursorX
   217  09da a93b               	lda #59
   218  09dc 8528               	sta CursorY
   219  09de c627               	dec CursorX
   220  09e0 fa                 	plx
   221  09e1 7a                 	ply
   222  09e2 68                 	pla
   223  09e3 48                 	pha
   224  09e4 5a                 	phy
   225  09e5 da                 	phx
   226  09e6 a94f               	lda #79
   227  09e8 8527               	sta CursorX
   228  09ea a93b               	lda #59
   229  09ec 8528               	sta CursorY
   230  09ee c627               	dec CursorX
   231  09f0 fa                 	plx
   232  09f1 7a                 	ply
   233  09f2 68                 	pla
   234  09f3 48                 	pha
   235  09f4 5a                 	phy
   236  09f5 da                 	phx
   237  09f6 a94f               	lda #79
   238  09f8 8527               	sta CursorX
   239  09fa a93b               	lda #59
   240  09fc 8528               	sta CursorY
   241  09fe c627               	dec CursorX
   242  0a00 fa                 	plx
   243  0a01 7a                 	ply
   244  0a02 68                 	pla
   245  0a03 48                 	pha
   246  0a04 5a                 	phy
   247  0a05 da                 	phx
   248  0a06 a94f               	lda #79
   249  0a08 8527               	sta CursorX
   250  0a0a a93b               	lda #59
   251  0a0c 8528               	sta CursorY
   252  0a0e c627               	dec CursorX
   253  0a10 fa                 	plx
   254  0a11 7a                 	ply
   255  0a12 68                 	pla
   256  0a13 48                 	pha
   257  0a14 5a                 	phy
   258  0a15 da                 	phx
   259  0a16 a94f               	lda #79
   260  0a18 8527               	sta CursorX
   261  0a1a a93b               	lda #59
   262  0a1c 8528               	sta CursorY
   263  0a1e c627               	dec CursorX
   264  0a20 fa                 	plx
   265  0a21 7a                 	ply
   266  0a22 68                 	pla
   267  0a23 48                 	pha
   268  0a24 5a                 	phy
   269  0a25 da                 	phx
   270  0a26 a94f               	lda #79
   271  0a28 8527               	sta CursorX
   272  0a2a a93b               	lda #59
   273  0a2c 8528               	sta CursorY
   274  0a2e c627               	dec CursorX
   275  0a30 fa                 	plx
   276  0a31 7a                 	ply
   277  0a32 68                 	pla
   278  0a33 48                 	pha
   279  0a34 5a                 	phy
   280  0a35 da                 	phx
   281  0a36 a94f               	lda #79
   282  0a38 8527               	sta CursorX
   283  0a3a a93b               	lda #59
   284  0a3c 8528               	sta CursorY
   285  0a3e c627               	dec CursorX
   286  0a40 fa                 	plx
   287  0a41 7a                 	ply
   288  0a42 68                 	pla
   289  0a43 48                 	pha
   290  0a44 5a                 	phy
   291  0a45 da                 	phx
   292  0a46 a94f               	lda #79
   293  0a48 8527               	sta CursorX
   294  0a4a a93b               	lda #59
   295  0a4c 8528               	sta CursorY
   296  0a4e c627               	dec CursorX
   297  0a50 fa                 	plx
   298  0a51 7a                 	ply
   299  0a52 68                 	pla
   300  0a53 48                 	pha
   301  0a54 5a                 	phy
   302  0a55 da                 	phx
   303  0a56 a94f               	lda #79
   304  0a58 8527               	sta CursorX
   305  0a5a a93b               	lda #59
   306  0a5c 8528               	sta CursorY
   307  0a5e c627               	dec CursorX
   308  0a60 fa                 	plx
   309  0a61 7a                 	ply
   310  0a62 68                 	pla
   311  0a63 48                 	pha
   312  0a64 5a                 	phy
   313  0a65 da                 	phx
   314  0a66 a94f               	lda #79
   315  0a68 8527               	sta CursorX
   316  0a6a a93b               	lda #59
   317  0a6c 8528               	sta CursorY
   318  0a6e c627               	dec CursorX
   319  0a70 fa                 	plx
   320  0a71 7a                 	ply
   321  0a72 68                 	pla
   322  0a73 48                 	pha
   323  0a74 5a                 	phy
   324  0a75 da                 	phx
   325  0a76 a94f               	lda #79
   326  0a78 8527               	sta CursorX
   327  0a7a a93b               	lda #59
   328  0a7c 8528               	sta CursorY
   329  0a7e c627               	dec CursorX
   330  0a80 fa                 	plx
   331  0a81 7a                 	ply
   332  0a82 68                 	pla
   333  0a83 48                 	pha
   334  0a84 5a                 	phy
   335  0a85 da                 	phx
   336  0a86 a94f               	lda #79
   337  0a88 8527               	sta CursorX
   338  0a8a a93b               	lda #59
   339  0a8c 8528               	sta CursorY
   340  0a8e c627               	dec CursorX
   341  0a90 fa                 	plx
   342  0a91 7a                 	ply
   343  0a92 68                 	pla
   344  0a93 48                 	pha
   345  0a94 5a                 	phy
   346  0a95 da                 	phx
   347  0a96 a94f               	lda #79
   348  0a98 8527               	sta CursorX
   349  0a9a a93b               	lda #59
   350  0a9c 8528               	sta CursorY
   351  0a9e c627               	dec CursorX
   352  0aa0 fa                 	plx
   353  0aa1 7a                 	ply
   354  0aa2 68                 	pla
   355  0aa3 48                 	pha
   356  0aa4 5a                 	phy
   357  0aa5 da                 	phx
   358  0aa6 a94f               	lda #79
   359  0aa8 8527               	sta CursorX
   360  0aaa a93b               	lda #59
   361  0aac 8528               	sta CursorY
   362  0aae c627               	dec CursorX
   363  0ab0 fa                 	plx
   364  0ab1 7a                 	ply
   365  0ab2 68                 	pla
   366  0ab3 48                 	pha
   367  0ab4 5a                 	phy
   368  0ab5 da                 	phx
   369  0ab6 a94f               	lda #79
   370  0ab8 8527               	sta CursorX
   371  0aba a93b               	lda #59
   372  0abc 8528               	sta CursorY
   373  0abe c627               	dec CursorX
   374  0ac0 fa                 	plx
   375  0ac1 7a                 	ply
   376  0ac2 68                 	pla
   377  0ac3 48                 	pha
   378  0ac4 5a                 	phy
   379  0ac5 da                 	phx
   380  0ac6 a94f               	lda #79
   381  0ac8 8527               	sta CursorX
   382  0aca a93b               	lda #59
   383  0acc 8528               	sta CursorY
   384  0ace c627               	dec CursorX
   385  0ad0 fa                 	plx
   386  0ad1 7a                 	ply
   387  0ad2 68                 	pla
   388  0ad3 48                 	pha
   389  0ad4 5a                 	phy
   390  0ad5 da                 	phx
   391  0ad6 a94f               	lda #79
   392  0ad8 8527               	sta CursorX
   393  0ada a93b               	lda #59
   394  0adc 8528               	sta CursorY
   395  0ade c627               	dec CursorX
   396  0ae0 fa                 	plx
   397  0ae1 7a                 	ply
   398  0ae2 68                 	pla
   399  0ae3 48                 	pha
   400  0ae4 5a                 	phy
   401  0ae5 da                 	phx
   402  0ae6 a94f               	lda #79
   403  0ae8 8527               	sta CursorX
   404  0aea a93b               	lda #59
   405  0aec 8528               	sta CursorY
   406  0aee c627               	dec CursorX
   407  0af0 fa                 	plx
   408  0af1 7a                 	ply
   409  0af2 68                 	pla
   410  0af3 48                 	pha
   411  0af4 5a                 	phy
   412  0af5 da                 	phx
   413  0af6 a94f               	lda #79
   414  0af8 8527               	sta CursorX
   415  0afa a93b               	lda #59
   416  0afc 8528               	sta CursorY
   417  0afe c627               	dec CursorX
   418  0b00 fa                 	plx
   419  0b01 7a                 	ply
   420  0b02 68                 	pla
   421  0b03 48                 	pha
   422  0b04 5a                 	phy
   423  0b05 da                 	phx
   424  0b06 a94f               	lda #79
   425  0b08 8527               	sta CursorX
   426  0b0a a93b               	lda #59
   427  0b0c 8528               	sta CursorY
   428  0b0e c627               	dec CursorX
   429  0b10 fa                 	plx
   430  0b11 7a                 	ply
   431  0b12 68                 	pla
   432  0b13 48                 	pha
   433  0b14 5a                 	phy
   434  0b15 da                 	phx
   435  0b16 a94f               	lda #79
   436  0b18 8527               	sta CursorX
   437  0b1a a93b               	lda #59
   438  0b1c 8528               	sta CursorY
   439  0b1e c627               	dec CursorX
   440  0b20 fa                 	plx
   441  0b21 7a                 	ply
   442  0b22 68                 	pla
   443  0b23 48                 	pha
   444  0b24 5a                 	phy
   445  0b25 da                 	phx
   446  0b26 a94f               	lda #79
   447  0b28 8527               	sta CursorX
   448  0b2a a93b               	lda #59
   449  0b2c 8528               	sta CursorY
   450  0b2e c627               	dec CursorX
   451  0b30 fa                 	plx
   452  0b31 7a                 	ply
   453  0b32 68                 	pla
   454  0b33 48                 	pha
   455  0b34 5a                 	phy
   456  0b35 da                 	phx
   457  0b36 a94f               	lda #79
   458  0b38 8527               	sta CursorX
   459  0b3a a93b               	lda #59
   460  0b3c 8528               	sta CursorY
   461  0b3e c627               	dec CursorX
   462  0b40 fa                 	plx
   463  0b41 7a                 	ply
   464  0b42 68                 	pla
   465  0b43 48                 	pha
   466  0b44 5a                 	phy
   467  0b45 da                 	phx
   468  0b46 a94f               	lda #79
   469  0b48 8527               	sta CursorX
   470  0b4a a93b               	lda #59
   471  0b4c 8528               	sta CursorY
   472  0b4e c627               	dec CursorX
   473  0b50 fa                 	plx
   474  0b51 7a                 	ply
   475  0b52 68                 	pla
   476  0b53 60                 	rts		; Return to caller
   477                          

; ******** Source: gol1.asm
    71                          	; removing this src, even though its labels are never called
    72                          				; will make it work gagin
    73                          	
    74                          
    75                          fullscreen:
    76  0b54 a94f               	lda #79
    77  0b56 8527               	sta CursorX
    78  0b58 a93b               	lda #59
    79  0b5a 8528               	sta CursorY
    80                          goleft:
    81  0b5c 20670b             	jsr column
    82  0b5f c627               	dec CursorX
    83  0b61 d0f9               	bne goleft
    84  0b63 20670b             	jsr column
    85  0b66 60                 	rts		; Return to caller
    86                          
    87                          column:
    88  0b67 20760b             	jsr veraprint
    89  0b6a c628               	dec CursorY
    90  0b6c d0f9               	bne column
    91  0b6e 20760b             	jsr veraprint
    92  0b71 a93b               	lda #59
    93  0b73 8528               	sta CursorY
    94  0b75 60                 	rts
    95                          	
    96                          
    97                          veraprint:
    98  0b76 48                 	pha
    99  0b77 5a                 	phy
   100  0b78 da                 	phx
   101                          	; set the memory addr
   102  0b79 20940b             	jsr sexy
   103                          	; send the char to VERA at x y
   104  0b7c a429               	ldy Character
   105  0b7e 8c239f             	sty veradat
   106  0b81 a42a               	ldy Colour
   107  0b83 8c239f             	sty veradat
   108  0b86 fa                 	plx
   109  0b87 7a                 	ply
   110  0b88 68                 	pla
   111  0b89 60                 	rts
   112                          
   113                          SetVeraADDR:             
   114                                                  
   115                          		; A contains vera Hi addr,
   116                          		; Y contains vera mid
   117                          		; X contains vera lo
   118                          
   119                          		; -- comment - could I use X and Y regs directly
   120                          		; -- instead of my Zero page surrogates? Hmm
   121                          
   122  0b8a 8d229f                             sta verahi
   123  0b8d 8c219f                             sty veramid
   124  0b90 8e209f                             stx veralo
   125  0b93 60                 		rts
   126                          
   127                          sexy:
   128                          
   129  0b94 6425                               stz z_d                     
   130  0b96 a528                               lda CursorY     
   131  0b98 18                                 clc
   132  0b99 6524                               adc z_e                         ;Add carry to M byte
   133  0b9b a8                                 tay
   134  0b9c a525                               lda z_d
   135  0b9e 6900                               adc #0                          ;Add carry to H byte
   136  0ba0 8525                               sta z_d
   137  0ba2 6424                               stz z_e
   138  0ba4 a527                               lda CursorX     
   139  0ba6 0a                                 asl
   140  0ba7 2624                               rol z_e
   141  0ba9 aa                                 tax                        
   142  0baa 98                                 tya                       
   143  0bab 6524                               adc z_e
   144  0bad a8                                 tay                      
   145  0bae a525                               lda z_d                 
   146  0bb0 6910                               adc #$10               
   147                          
   148  0bb2 208a0b                             jsr SetVeraADDR        
   149  0bb5 60                 		rts
   150                          
   151  0bb6 54455354494e4720....string !pet	"testing x y coords - waiting for enter...",13,0

; ******** Source: grid.inc
     1                          .actions
     2  0be1 01100000           !byte $1,$10,$00,$00
     3  0be5 0110009e           !byte $1,$10,$00,$9E
     4  0be9 01100100           !byte $1,$10,$01,$00
     5  0bed 0110019e           !byte $1,$10,$01,$9E
     6  0bf1 0110042c           !byte $1,$10,$04,$2C
     7  0bf5 0110042e           !byte $1,$10,$04,$2E
     8  0bf9 01100430           !byte $1,$10,$04,$30
     9  0bfd 01100432           !byte $1,$10,$04,$32
    10  0c01 01100434           !byte $1,$10,$04,$34
    11  0c05 01100580           !byte $1,$10,$05,$80
    12  0c09 0110061a           !byte $1,$10,$06,$1A
    13  0c0d 0110061c           !byte $1,$10,$06,$1C
    14  0c11 0110061e           !byte $1,$10,$06,$1E
    15  0c15 01100620           !byte $1,$10,$06,$20
    16  0c19 01100622           !byte $1,$10,$06,$22
    17  0c1d 01100628           !byte $1,$10,$06,$28
    18  0c21 01100856           !byte $1,$10,$08,$56
    19  0c25 01100858           !byte $1,$10,$08,$58
    20  0c29 0110085a           !byte $1,$10,$08,$5A
    21  0c2d 0110085c           !byte $1,$10,$08,$5C
    22  0c31 01100954           !byte $1,$10,$09,$54
    23  0c35 0110095c           !byte $1,$10,$09,$5C
    24  0c39 01100a5c           !byte $1,$10,$0A,$5C
    25  0c3d 01100a7a           !byte $1,$10,$0A,$7A
    26  0c41 01100a7c           !byte $1,$10,$0A,$7C
    27  0c45 01100a7e           !byte $1,$10,$0A,$7E
    28  0c49 01100a80           !byte $1,$10,$0A,$80
    29  0c4d 01100d20           !byte $1,$10,$0D,$20
    30  0c51 01100e20           !byte $1,$10,$0E,$20
    31  0c55 01100f20           !byte $1,$10,$0F,$20
    32  0c59 01100f5c           !byte $1,$10,$0F,$5C
    33  0c5d 01100f62           !byte $1,$10,$0F,$62
    34  0c61 0110105e           !byte $1,$10,$10,$5E
    35  0c65 0110117a           !byte $1,$10,$11,$7A
    36  0c69 0110127a           !byte $1,$10,$12,$7A
    37  0c6d 0110137a           !byte $1,$10,$13,$7A
    38  0c71 0110141e           !byte $1,$10,$14,$1E
    39  0c75 0110151e           !byte $1,$10,$15,$1E
    40  0c79 01101540           !byte $1,$10,$15,$40
    41  0c7d 01101542           !byte $1,$10,$15,$42
    42  0c81 01101544           !byte $1,$10,$15,$44
    43  0c85 0110157a           !byte $1,$10,$15,$7A
    44  0c89 0110161e           !byte $1,$10,$16,$1E
    45  0c8d 0110171e           !byte $1,$10,$17,$1E
    46  0c91 01101776           !byte $1,$10,$17,$76
    47  0c95 01101778           !byte $1,$10,$17,$78
    48  0c99 0110177a           !byte $1,$10,$17,$7A
    49  0c9d 0110181e           !byte $1,$10,$18,$1E
    50  0ca1 01101878           !byte $1,$10,$18,$78
    51  0ca5 01101952           !byte $1,$10,$19,$52
    52  0ca9 01101956           !byte $1,$10,$19,$56
    53  0cad 01101958           !byte $1,$10,$19,$58
    54  0cb1 0110195a           !byte $1,$10,$19,$5A
    55  0cb5 0110195e           !byte $1,$10,$19,$5E
    56  0cb9 01101960           !byte $1,$10,$19,$60
    57  0cbd 01101964           !byte $1,$10,$19,$64
    58  0cc1 0110197a           !byte $1,$10,$19,$7A
    59  0cc5 01101a4c           !byte $1,$10,$1A,$4C
    60  0cc9 01101a4e           !byte $1,$10,$1A,$4E
    61  0ccd 01101a50           !byte $1,$10,$1A,$50
    62  0cd1 01101a64           !byte $1,$10,$1A,$64
    63  0cd5 01101a7c           !byte $1,$10,$1A,$7C
    64  0cd9 01101b40           !byte $1,$10,$1B,$40
    65  0cdd 01101b42           !byte $1,$10,$1B,$42
    66  0ce1 01101b4c           !byte $1,$10,$1B,$4C
    67  0ce5 01101b64           !byte $1,$10,$1B,$64
    68  0ce9 01101b7c           !byte $1,$10,$1B,$7C
    69  0ced 01101c42           !byte $1,$10,$1C,$42
    70  0cf1 01101c62           !byte $1,$10,$1C,$62
    71  0cf5 01101c7c           !byte $1,$10,$1C,$7C
    72  0cf9 01101d4c           !byte $1,$10,$1D,$4C
    73  0cfd 01101d4e           !byte $1,$10,$1D,$4E
    74  0d01 01101d7c           !byte $1,$10,$1D,$7C
    75  0d05 01101e46           !byte $1,$10,$1E,$46
    76  0d09 01101e4e           !byte $1,$10,$1E,$4E
    77  0d0d 01101e78           !byte $1,$10,$1E,$78
    78  0d11 01101e7a           !byte $1,$10,$1E,$7A
    79  0d15 01101f48           !byte $1,$10,$1F,$48
    80  0d19 01101f4a           !byte $1,$10,$1F,$4A
    81  0d1d 01101f4e           !byte $1,$10,$1F,$4E
    82  0d21 01101f76           !byte $1,$10,$1F,$76
    83  0d25 0110204a           !byte $1,$10,$20,$4A
    84  0d29 0110204e           !byte $1,$10,$20,$4E
    85  0d2d 01102076           !byte $1,$10,$20,$76
    86  0d31 0110214c           !byte $1,$10,$21,$4C
    87  0d35 0110214e           !byte $1,$10,$21,$4E
    88  0d39 01102160           !byte $1,$10,$21,$60
    89  0d3d 01102164           !byte $1,$10,$21,$64
    90  0d41 01102174           !byte $1,$10,$21,$74
    91  0d45 01102266           !byte $1,$10,$22,$66
    92  0d49 01102272           !byte $1,$10,$22,$72
    93  0d4d 01102370           !byte $1,$10,$23,$70
    94  0d51 01102466           !byte $1,$10,$24,$66
    95  0d55 01102468           !byte $1,$10,$24,$68
    96  0d59 0110246a           !byte $1,$10,$24,$6A
    97  0d5d 0110246e           !byte $1,$10,$24,$6E
    98  0d61 01102470           !byte $1,$10,$24,$70
    99  0d65 01103b00           !byte $1,$10,$3B,$00
   100  0d69 01103b9e           !byte $1,$10,$3B,$9E
   101  0d6d ffffff             !byte $FF,$FF,$FF

; ******** Source: gol1.asm
   153                          
